% !TEX option = -shell-escape
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This work is licensed under the Creative Commons Attribution 4.0
% International License. To view a copy of this license, visit
% http://creativecommons.org/licenses/by/4.0/.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[12pt]{ussci}

\usepackage{todonotes}
\newcommand\ck{ChemKED}
\usepackage[inline]{enumitem}
\setlist{noitemsep}
%======================================================================
\addbibresource{pyked.bib}
%======================================================================
\newcommand\papertopic{Reaction Kinetics}
%======================================================================

\title{ ChemKED: a human- and machine-readable data standard for chemical kinetics experiments }

\author[1*]{Bryan W. Weber}
\author[2]{Kyle E. Niemeyer}

\affil[1]{Department of Mechanical Engineering, University of Connecticut, Storrs, CT, USA}
\affil[2]{School of Mechanical, Industrial, and Manufacturing Engineering, Oregon State University, Corvallis, OR, USA}
\affil[*]{Corresponding author: \email{bryan.weber@uconn.edu}}

\begin{document}
\maketitle

%====================================================================
\begin{abstract} % not to exceed 200 words
Fundamental experimental measurements of quantities including ignition delay
times, laminar flame speeds, and species profiles serve important roles in
understanding fuel chemistry and validating chemical kinetic models. However,
despite both the importance and abundance of such information in the literature,
the community lacks a widely adopted standard format for this data. This impedes
both sharing and wide use by the community. In this talk, we will introduce a
new Chemical Kinetics Experimental Data format, ChemKED, and the related
Python-based package for creating and validating ChemKED-formatted files called
PyKED. We will also review past and related efforts, and motivate the need for a
new solution. ChemKED currently supports the representation of autoignition
delay time and laminar flame speed measurements. ChemKED-formatted files contain
all of the information needed to simulate experimental data points, including
uncertainty. ChemKED is based on the YAML data serialization language, and is
intended as a human- and machine-readable standard for easy creation and
automated use. Development of ChemKED and PyKED occurs openly on GitHub under
the BSD 3-clause license, and contributions from the community are welcome.
Plans for future development include support for experimental data from jet
stirred reactor, extinction, and speciation measurements.
\end{abstract}

% (Provide 2-4 keywords describing your research. Only abbreviations firmly
% established in the field may be used. These keywords will be used for
% sessioning/indexing purposes.)
\begin{keyword}
    chemical kinetics\sep software\sep database
\end{keyword}

%====================================================================
\section{Introduction}
%
\todo[inline]{Kyle to do}


%====================================================================
\section{Related work}
%
\todo[inline]{Kyle to do}


%====================================================================
\section{Overview of format}\label{sec:overview-of-format}

The \ck{} file is a YAML-format file. This format offers the advantages of being
human readable, written in plain text, and having parsers in most common
programming languages, including Python, C++, Java, Perl, MATLAB, and many
others. The YAML syntax is quite simple. The basic file structure is made of
mappings, delimited by a colon. The key for the mapping is on the left of the
colon, and the value on the right can be a single value, a sequence of values,
a nested mapping, or some combination of these:

\begin{minted}{yaml}
    key1: value  # Single-value mapping
    key2: [0, 1, 2]  # Mapping with sequence
    key3:  # Alternative sequence format
      - value
      - value
    key4:  # Nested mapping
      key5: 0
\end{minted}

The \yaml|value| can be a string, integer, or floating point number. The type is
inferred from the \yaml|key| when the value is read. The \ck{} format is
designed to include all of the information necessary to simulate a given
experiment and can be broken into two main sections. The first section details
all of the ``meta'' information about the experiment and the \ck{} file. In this
section, the common \yaml|author| mapping is used for any fields where an author
must be specified. The \yaml|author| mapping contains the following fields:
%
\begin{itemize}
    \item \yaml|name| (required, string): The author's full name
    \item \yaml|ORCID| (optional, string): the author's ORCID number
\end{itemize}
%
More generally for the meta information, the required keys in this section
are:
%
\begin{itemize}
    \item \yaml|file-author| (required, \yaml|author|-type mapping): The author
    of the \ck{} file
    \item \yaml|file-version| (required, integer): The version of the \ck{} file
    \item \yaml|chemked-version| (required, string): The version of the \ck{}
    schema that this file conforms to
    \item \yaml|reference| (required, mapping): The reference information for
    the article associated with the data in the file. The fields in this
    mapping are:
    \begin{itemize}
        \item \yaml|authors| (required, sequence): A sequence of \yaml|author|
        mappings
        \item \yaml|journal| (required, string): The name of the publishing
        journal
        \item \yaml|year| (required, integer): The year of publication
    \end{itemize}
    \item \yaml|experiment-type| (required, string): One of \yaml|ignition
    delay| or \yaml|flame speed|
    \item \yaml|apparatus| (required, string): The type of apparatus used to
    perform the experiment
\end{itemize}

In addition to the meta information, the data encoded in the \ck{} file is in
a mapping called \yaml|datapoints|. The \yaml|datapoints| mapping contains a
sequence of nested mappings, with the following information for each element of
the sequence:
%
\begin{itemize}
    \item \yaml|temperature| (required, sequence): The temperature of the
    experiment, with units
    \item \yaml|ignition-delay| (optional, sequence): The ignition delay of the
    experiment, with units, if the \yaml|experiment-type| is \yaml|ignition
    delay|
    \item \yaml|flame-speed| (optional, sequence): The flame speed of the
    experiment, with units, if the \yaml|experiment-type| is \yaml|flame speed|
    \item \yaml|pressure| (required, string): The pressure of the experiment,
    with units
    \item \yaml|composition| (required, sequence): The composition of the
    mixture in the experiment, a sequence of mappings with the following fields
    \begin{itemize}
        \item \yaml|species-name| (required, string): The name of the species
        \item \yaml|mole-fraction|, \yaml|mass-fraction|, \yaml|mole-percent|
        (required, float): The mole fraction or percent, or the mass fraction.
        Only one of the three is permitted in a given \yaml|composition|
        sequence.
        \item \yaml|InChI|, \yaml|SMILES|, \yaml|atomic-composition|, or
        \yaml|elemental-composition| (required, string or sequence): The InChI
        or SMILES representing the molecule, or its atomic or elemental
        composition (\yaml|atomic-composition| and \yaml|elemental-composition|
        are synonyms) as a sequence
    \end{itemize}
    \item \yaml|ignition-type| (required, mapping); The type of ignition
    measured in the experiments. The required fields are
    \begin{itemize}
        \item \yaml|type| (required, string): How the ignition delay was
        measured, one of \yaml|d/dt max| to indicate the ignition point is
        found at the maximum of the time derivative of the \yaml|target|, or
        \yaml|max| or \yaml|min| to indicate the ignition point is at the
        maximum or minimum of the \yaml|target|
        \item \yaml|target| (required, string): The target for the type of the
        ignition point, one of \yaml|temperature|, \yaml|pressure|, \yaml|OH|,
        \yaml|OH*|, \yaml|CH|, or \yaml|CH*|
    \end{itemize}
\end{itemize}

Each of the quantities in a datapoint must be specified with units. This should
be done as a single string associated with the first element of the sequence.
The units of the quantity are validated to ensure they have the appropriate
dimensionality for the quanity. In addition, each of the quantities in the
\yaml|datapoint| can optionally be assigned an uncertainty. This uncertainty can
be either absolute or relative, and is specified as elements of the sequence of
the associated key. For example, the absolute uncertainty of the temperature and
the relative uncertainty of the ignition delay might be specified as follows:

\begin{minted}{yaml}
datapoints:
  - temperature:
      - 1100 kelvin
      - uncertainty-type: absolute
        uncertainty: 10 kelvin
    ignition-delay:
      - 10 us
      - uncertainty-type: relative
        uncertainty: 10
    ...
\end{minted}

%====================================================================
\section{PyKED Architecture}
%
\todo[inline]{Bryan to do}

%====================================================================
\section{Use example}
%
\todo[inline]{Bryan/Kyle to do}
\todo[inline]{Idea: CONV simulations using Cantera in a loop with conditions
from the Pandas output for butanol?}


%====================================================================
\section{Conclusions and future work}
%
\todo[inline]{both to do}

\printbibliography

\end{document}
